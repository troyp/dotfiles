#                                                                 -*- shell-script -*-
# to override: use \ or '' (eg. \ls or 'ls')
# to "escape" ' inside '' (when you need both ' and " in alias): use '"'"'
#    (doesn't really escape - it ends string, concatenates string "'" (a single
#     quote) and concatenates a new string that extends to the end of the alias)
#   or: use '\'' (end string, concatenate character ', open string)
# C-A-e ("shell-expand-line") does inline alias, word and history expansion
#     (note: will recursively expand aliases in a history expansion.)
#     (note: "alias-expand-line" and "history-and-alias-expand-line" are also
#             available, but not bound by default.)

#-------------------------
# DEBIAN-SPECIFIC ALIASES.
#-------------------------
alias sapt='sudo apt-get'
alias saptu='sudo apt-get update'
alias sapti='sudo apt-get install'
alias aptc='apt-cache'
alias aptf='apt-file'
alias aptcs='apt-cache search'  # find matching packages
alias aptff='apt-file find'  # (find==search) find packages containing matching files
alias aptcp='apt-cache policy'
alias aptcsh='apt-cache show'  # show package records
alias aptfl='apt-file list'  # list contents of matching packages
alias aptgetkey='sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys'  # Ubuntu
alias dplist='dpkg -l'   # list package names matching pattern, eg. dplsit 'dbus*'
alias dpfiles='dpkg -L'  # list files installed by a package
alias dpfind='dpkg -S'   # find package, location, man file location of a command
alias aptsh='sudo aptsh'
alias sdebi='sudo dpkg -i'
alias sdebr='sudo dpkg -r'
alias saptar='sudo apt-add-repository'
alias listinstalled-manual="comm -23 <(apt-mark showmanual | sort -u) <(gzip -dc /var/log/installer/initial-status.gz | sed -n 's/^Package: //p' | sort -u)"
alias synaptic_enable_quicksearch='sudo apt-get install apt-xapian-index; sudo update-apt-xapian-index -vf'
alias enable-beep='sudo modprobe pcspkr'
alias disable-beep='sudo modprobe -r pcspkr'
alias list-repos='inxi -r'
alias alts='sudo update-alternatives --config'
alias galts=galternatives    # graphical alternatives editor
# filter-in-default-PATH: filters list of paths/programs for those on path (note: will match substrings)
# TODO: only pass when directory matches exactly
alias filter-in-default-PATH='grep -E `echo ${ubuntu_default_PATH//:/\|}`'
alias filter-exec-in-default-PATH='grep -E `echo ${ubuntu_default_PATH//:/\/.+\|}`'

# ----------------------
#  KDE-SPECIFIC ALIASES.
# ----------------------
alias kderepl='qdbus org.kde.plasma-desktop /MainApplication showInteractiveKWinConsole'
alias kde-view-places-file='/home/troy/.local/share/user-places.xbel'
alias kde-view-bookmarks-file='view /home/troy/.kde/share/apps/kfile/bookmarks.xml'

#---------------------
# CD & MKDIR ALIASES.
#---------------------
alias -- -='cd -'
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'
alias cd..='cd ..'
alias cd...='cd ../..'
alias cd....='cd ../../..'
alias cd.....='cd ../../../..'
alias md='mkdir -p'
alias md='mkdir -pv'
# alias rd='source ranger ranger'    # navigate to new dir with ranger
alias rd='ranger --choosedir=$HOME/.ranger-choosedir; cd `cat $HOME/.ranger-choosedir`'
alias rpick='ranger --choosefiles $HOME/.ranger-choosefiles'
alias rpickone='ranger --choosefile $HOME/.ranger-choosefile'
alias rpickdir='ranger --choosedir $HOME/.ranger-choosedir'
alias cdchrometempdir='"cd `chrometempfiles 3`"'  # cd to Firefox temp directory

#------------
# LS ALIASES.
#------------
alias lsg='ls | grep'
alias ls='ls --group-directories-first --color=auto --time-style=+" %d.%m.%y "'
alias ls1='ls -1'
alias lsc='ls --color=always'
alias ll='ls -l'   # list details
alias llc='ll --color=always'
alias lll='ls -l --time-style=+"           %a %d.%b.%y ''
 %T  %a %d.%b.%y "'  # detailed list with weekday, plus mod. time for recent files
alias lln='ls -lv'   # detailed list natural sort
alias llt='ls -lt'   # detailed list sort by last modified
alias llx='ls -lX'   # detailed list sort by extension
alias lls='ls -lS'   # detailed list sort by file size
alias la='ls -Al'    # detailed list dotfiles
alias lr='ls -lR'    # detailed list recursive
alias lc='ls -Cp'    # filenames only, append / to directories
alias lsdirs='ls -d -- */'    # list subdirectories of current dir
alias lsvdirs='ls -p | command grep -o ^.*/$ | xargs ls -d --color=auto'  # visible only
alias lldirs='ls -lp | GREP_OPTIONS="" grep ".*/$"'       # list details of directories only
alias lsfiles='ls -p | GREP_OPTIONS="" grep -v ".*/$"'    # list details of files only
alias llfiles='ls -lp | GREP_OPTIONS="" grep -v ".*/$"'   # list details of files only
alias llfilesbysize='llfiles | sort -k 5nr'    # list files with details, from largest down

alias lsod='LC_COLLATE=C ls'      # sort dotfiles, then UC, then LC
alias laod='LC_COLLATE=C ls -la'
alias lsatimes='for x in *; do stat -c"%n	%x" -- "$x"; done | tabs2cols' # if broken, check tab
alias sortatimes='for x in *; do stat -c"%x	%n" -- "$x"; done | tabs2cols | sort'
# alias lsexec='lsfiles | dolines if [[ -x "$x" ]]; then echo "$x"; fi; done'
alias lsexec='lsfiles | filterexec'
alias lsi='du -hsc'    # list total sizes of files and directories

# ------------------
# FILE INFO ALIASES.
# ------------------
alias showpermissions='stat --printf "%-20n  %a  %A\n"';


# --------------------
# ENVIRONMENT ALIASES.
# --------------------
alias lsenv='export | less'    # list environment variables (alphabetical)
alias lsenvf='set | less'      # list environment variables and functions (alphabetical)
alias lsenvall='env | less'    # list entire environment


#-----------------------
# FILE RENAMING ALIASES.
#-----------------------

alias rn='mv -iT'    # use mv to rename (ask before overwrite, treat dest as filename, not dir)
alias lowercase-files='dofiles mv -i "$x" "$(echo "$x" | tolowercase)"; done'
alias hilitcase-files='dofiles mv -i "$x" "$(echo "${x%.*}" | tohilitcase).${x##*.}"; done'

# ALTERNATIVES TO WDIRED (C-x d <directory> C-x C-q)
alias emdir="env EDITOR=emacs vidir"                        # emacs/vidir rename
alias qmv="qmv -f 'do'"                                     # vim/qmv rename
alias qmv2="qmv -f 'dc' -o autowidth,spaces,width=80,swap"  # vim/qmv 2 col rename
alias emv="qmv -f 'do' -e 'emacsclient -nw'"                # emacs/qmv rename
alias emv2="qmv -f 'dc' -o autowidth,spaces,width=80,swap -e 'emacsclient -nw'" # 2 col rename
alias ecp="qcp -f 'do' -e 'emacsclient -nw'"                # emacs/qcp copy
alias ecp2="qcp -f 'dc' -o autowidth,spaces,width=80,swap -e 'emacsclient -nw'" # 2 col copy

# RENAME (PERL)
alias ren=rename
alias renn='rename -n'    # rename preview (dry-run)
alias add-png-ext="ren 's/\s*$/.png/' -- *"
# ren-year-to-end: eg. ren '(2000)  file name.more.pdf' -> 'file name.more (2000).pdf'
alias ren-year-to-end='ren '"'"'s/^(\([0-9]+\)) *-? *(.*)\.(.+)$/$2 $1.$3/'"'"''
alias ren-year-to-end-preview='ren -n '"'"'s/^(\([0-9]+\)) *-? *(.*)\.(.+)$/$2 $1.$3/'"'"''
alias ren-dot-to-space='ren '"'"'s/\.(?=[^.]+\.)/ /g unless /^\./'"'"''
alias ren-dot-to-space-preview='ren -n '"'"'s/\.(?=[^.]+\.)/ /g unless /^\./'"'"''
alias ren-space-to-dot="ren 'tr/ /./'"
alias ren-underscore-to-space="ren 'tr/_/ /'"
alias ren-space-to-underscore="ren 'tr/ /_/'"
alias ren-uppercase="ren 'tr/a-z/A-Z/'"
alias ren-lowercase="ren 'tr/A-Z/a-z/'"
   # FIXME:
# ren-strip-extra-from-year: eg. rename 'file (extra-info, 2000).pdf' -> 'file (2000).pdf'
alias ren-strip-extra-from-year="ren 's/\([-\w_.']+, ?([0-9]{4})\)\.(\w+)"'$/($1).$2/'
alias ren-strip-extra-from-year-preview="ren -n '"'s/\([-\w_.'"'"']+, ?([0-9]{4})\)(?=\.\w+)$/($1)/'
alias ren-strip-left-of-number='ren '"'"'s/[^0-9]*(?=[0-9]+)//'"'"
alias ren-strip-left-of-number-preview='ren -n '"'"'s/[^0-9]*(?=[0-9]+)//'"'"
alias ren-extract-number='ren '\''s/[^1-9]*([0-9]+).*?(([.][^.]+)?)/$1$2/'\'
alias ren-extract-number-preview='ren -n '\''s/[^1-9]*([0-9]+).*?(([.][^.]+)?)/$1$2/'\'
alias ren-extract-number-ext='ren '\''s/[^1-9]*([0-9]+).*(\.[^.]+)/$1$2/'\'
alias ren-extract-number-ext-preview='ren -n '\''s/[^1-9]*([0-9]+).*(\.[^.]+)/$1$2/'\'
alias ren-extract-number-no-ext='ren '\''s/[^1-9]*([0-9]+).*/$1/'\'
alias ren-extract-number-no-ext-preview='ren -n '\''s/[^1-9]*([0-9]+).*/$1/'\'
# ren-titlecase: note - removes newlines from titles
alias ren-titlecase='ren '\''use Text::Autoformat; my @parts=split /\./; my $n=$#parts; my @newparts = map {autoformat( $_, {case=>qw(highlight)})} @parts[0..$n]; $newparts[$n] = $parts[$n]; $_ = join(".",@newparts); s/\n//g'\'
alias ren-titlecase-preview='ren -n '\''use Text::Autoformat; my @parts=split /\./; my $n=$#parts; my @newparts = map {autoformat( $_, {case=>qw(highlight)})} @parts[0..$n]; $newparts[$n] = $parts[$n]; $_ = join(".",@newparts); s/\n//g'\'
alias ren-manga-add-leading-zero='ren '\''s/第([0-9]+)巻/第0$1巻/'\'

## MMV: simple wildcard-based renaming
# mmv: eg.   mmv '*.bk.*' '#1.#2'
# note: wildcards don't match leading ".", need to specify explicitly
alias mmv-move='mmv -x'       # move source to target
alias mmv-copy='mmv -c'       # copy source to target
alias mmv-append='mmv -a'     # append source to target
alias mmv-link='mmv -a'       # link source to target
alias mmv-symlink='mmv -a'    # symlink source to target


# --------------------
# FILE SEARCH ALIASES.
# --------------------
alias gr='grep -inE --color=auto'    # color, line no.s, case-insensitive, extended RE
alias grepc="grep --color=always"    # color grep for pipes
alias grepp='grep -P'                # grep with  perl syntax
alias sudb='sudo updatedb'
alias locater='locate --regex'   # locate extended regex
alias locatea='locate -A'        # locate files matching ALL patterns
alias locatei='locate -i'        # locate files ignoring case`
alias ffind='find -L'    # follow symlinks
alias findfile='find . -type f -iname'   # find files with (case-insens) name PATTERN.

# --------------------------
# FILE MANIPULATION ALIASES.
# --------------------------
# --- looping over files ---
alias dofiles='for x in *; do'    # process each file in current directory
# eg.  mapfiles printf "`pwd`/$x\n"
alias mapfiles='for x in *; do echo "$x" |'    # for each file in cur dir (end with `done`)...
alias docbfiles='xsel -ob | files-from-url | dolines' # loop over files copied in clipboard (convert from file:// URL)
alias docburls='xsel -ob | dolines'                   # loop over urls copied to clipboard
alias docburls-reversed='xsel -ob | tac | dolines'    # loop over urls copied to clipboard (reverse order)

# --- editing files ---
alias sed-file='sed -i.bak' # edit file in-place (makes backup) sed-file 's/old/new/g' f.ext
alias editchoose='iselect -ma | xargs emacsclient' # select a file to edit in emacs
alias scriptvi='edit-script vim'
alias scriptem='edit-script emacsclient'

# --- copying files ---
alias name2fat='perl -pe '"'"'s/\+|:/ - /g and s/\[<>\/\\?+:"\]//g'"'"''  # filename -> FAT-compat
alias mv='mv -i'
alias rscopy='rsync -avzH --progress'
alias rsdiff='rsync -rvnc --delete'  # compare two directories by simulating the process of copying the first to overwrite the second
alias rscopyto='rsync -rvc --delete .'  # copy current directory to another directory, deleting its original contents
alias rsupdate='rsync -auvzH --progress'
alias cppath='cp --parents'   # copy a relative file-path into a dir

# --- linking files ---
alias symlink='ln -s'
alias sln='ln -s'
alias msymlink='mmv -s'  # mmv multiple symlink using wildcards, eg.  msymlink *.pdf #1_link.pdf

# --- other ---
alias irm='rm -i'  # interactive rm: prompt before removal
alias diff='colordiff -u'
alias diffdir='colordiff -rqb'
alias chmodx='chmod a+x'

# -----------------------
# HTML & XML MANIPULATION
# -----------------------
alias htmlcat='htmldoc -f html'
alias makelinks='make-links'    # ~/.scripts/make-links
alias makelinks-dirtree-flatten='find . -type f -exec printf "<a href={}>{}</a><br>\n"  \;'
alias href-relativize="sed -e 's/href=\"http:\/\/[^ \"]*\//href=\"/g'"
alias dehtent="perl -n -mHTML::Entities -e ' ; print HTML::Entities::decode_entities(\$_) ;'"
alias htent="perl -n -mHTML::Entities -e ' ; print HTML::Entities::encode_entities(\$_) ;'"
alias remove-wayback-insert="sed -i '/BEGIN WAYBACK TOOLBAR INSERT/,/END WAYBACK TOOLBAR INSERT/d'"
alias xstar=xmlstarlet
alias xq=xqilla
alias delete-before-doctype="sed -i -ne '/<!DOCTYPE/,$ p'"
alias urlenc='xargs -0 urlencode'
alias urldeenc='xargs -0 urlencode -d'

#------------------------
# WGET & RELATED ALIASES.
#------------------------
# multiple hosts: use -H; restrict domains with -D dom1.com,dom2.org
alias wgetm='wget -rkpN -l inf -np -nH --no-remove-listing'
alias wgetmh='wget -rkpN -l inf -np -H --no-remove-listing'
alias wgetmcont='wget -mkp -np -nH -c -N'    # continue, changed/new files only
alias wgetmnc='wget   -mkp -np -nH -c -nc'   # continue, new files only
alias wgetmf="wgetm --reject-regex '.*[?$].*'"  # filter out URLs with params
# wgetm-incdirs: eg. wgetmincdirs /Tools,/Utilities domainname.com/Tools/index.html
alias wgetm-incdirs='wget -mkp -nH --include-directories'
alias wgetmf-incdirs="wget -mkp -nH --reject-regex '.*[?].*' --include-directories"
alias wgetmff-incdirs="wget -mkp -nH --reject-regex '.*[?$].*' --include-directories"
alias wgetm-incdirs-span='wget -mkp -nH -H --include-directories'
alias wgetm-conv='wgetm -E'          # wgetm w. adjust-extension (-E)
alias wgetm-kconv='wgetm -E -K'      # wgetm w. adjust-extension (-E) and orig bkup (-K)
alias wgetmf-conv='wgetmf -E'        # wgetmf w. adjust-extension (-E)
alias wgetmf-kconv='wgetmf -E -K'    # wgetmf w. adjust-extension (-E) and orig bkup (-K)
alias wgetmlimit='wget -rkpNE -np -nH -l'  #eg wgetmlimit 2... (2 recurs lvls)
alias wgetmcut='wgetm --cut-dirs'  #eg wgetmcut 2 ... (removes root + top 2 subdirs)
alias wgetmfcut="wgetmf --reject-regex '.*[?].*' ---cut-dirs"  #eg wgetmcut 2 ... (removes root + top 2 subdirs)
alias wgetmffcut="wgetmff --reject-regex '.*[?$].*' ---cut-dirs"  #eg wgetmcut 2 ... (removes root + top 2 subdirs)
alias wgetmflat='wgetm -nd'
alias wgetstealth='wget robots=off -U=Mozilla'
alias wgetmstealth='wgetm -e robots=off -U="Mozilla" -w 1'
alias wgetmfstealth='wgetmf -e robots=off -U="Mozilla" -w 1'
alias wget1='wget -rNkpE -l 1 -H'
alias wget1stealthconv='wget -rNkpE -l 1 -H -e robots=off -U=Mozilla -w 1'
alias wget1flatstealthconv='wget -rNkpE -nd -l 1 -H -e robots=off -U=Mozilla -w 1'
alias wgetp='wget -NkpE'
alias wgetpp='wget -kpEH'
alias wgetpcut='wget -NkpE -nH --cut-dirs'
alias wgetcat='wget -pE -O' # usage: wgetcat <filename> <filename> ... <url> #UNTESTED
alias listhttplinks='xargs elinks --dump | grep "http" | sed "s/.*http/http/g"' # Waits for url from stdin then lists http links on page. echo url | listhttplinks. Pipe to wget.
alias listhttplinks2='xargs wget -O - 2>&1 | grep -i "http:" | sed "s/^.*http/http/\" | cut -d"\"" -f1 | sort -u'
# alias cbdl (clipboard aliases)

# -----------------
# DOWNLOAD ALIASES.
# -----------------
alias dl-noice='git clone http://git.2f30.org/noice/'
alias install-noice='dl-noice; cd noice; make; cp noice /opt/bin/'


# ----------------
# FIREFOX ALIASES.
# ----------------
alias firefox=/opt/firefox/firefox
alias ff='firefox --new-tab'
alias ffw='firefox --new-window'
alias ffp='firefox -P'
alias ffpm='firefox --ProfileManager'
FFMAINPROFILE=Troy
alias ffd="firefox -P $FFMAINPROFILE"
alias ffmain="firefox -P $FFMAINPROFILE"
alias ffsearch="firefox -search"
# note: when using `...` in alias, use single quotes so the backquotes are evaluated when the
#       alias is *called*, rather than when the alias definition is read.
alias cdffdir='cd `ffprof $FFMAINPROFILE`'    # cd to Firefox profile directory
alias cdffcache='cd `fftempfiles $FFMAINPROFILE`'  # cd to Firefox cache directory

#------------------------
# BROWSER/SERVER ALIASES.
#------------------------
alias archm='sudo archmage -p'    # eg. archm 81 myfile.chm
alias pydirserve='python2 -m SimpleHTTPServer'  # serve current dir tree on port 8000
# alias pydirserve='python3 -m http.server'  # serve current dir tree on port 8000
alias dirserve=http-server   # serve current dir tree (or ./public) on port 8080 (or set with -p)
alias lsportprocs='lsof -i'  # list processes on given port [range], eg. lsportprocs TCP:8081

#--------------------
# NETWORKING ALIASES.
#--------------------
alias tracert=traceroute
alias ports='netstat -tunp'
# from: http://unix.stackexchange.com/questions/22615/
alias ip-addr="lwp-request -o text checkip.dyndns.org | awk '{ print $NF }'"
alias htheaders='lynx -dump -head'
alias lstcpservers='sudo netstat -plentv'
alias monitor-http-requests="sudo tcpdump -i eth0 -A -s 5000 'tcp port 80 and (((ip[2:2] - ((ip[0]&0xf)<<2)) - ((tcp[12]&0xf0)>>2)) != 0)'"

# ------------
# MAN ALIASES.
# ------------
# currently problem with man -H: use manh function (works via man2html)
# alias manht='man -Hfirefox'   # problem with grohtml images
# alias manht='man -Hchromium-browser'   # problem with grohtml images
alias gitman='git help'
alias erlman='erl -man'
alias bashman='mangrep bash'  # see .sh-functions. eg. bashman type
alias coreinf='info coreutils'   # eg.  coreinf 'env'
# alias mans='man -k . | grep'  # use whatis -r (or -w) instead

#-------------------
# OPEN & SU ALIASES.
#-------------------
alias x=xdg-open
alias xrun=xdg-open
alias grun=gnome-open
alias krun=kde-open
alias ksu=kdesudo

#-------------------
# CLIPBOARD ALIASES.
#-------------------
# xsel or xclip copies stdin to selection
# for i in `seq 5`; do echo $(cb); done  # prints clipboard 5x
# ...|cb will pipe to clipboard and print previous contents
# ...|2cb will pipe to clipboard without output
alias cb='xsel -ob'  #  prints clipboard; ...|cb  # pipes input into clipboard
alias 2cb='xsel -ib >/dev/null'  #  uptime|2cb  # uptime to clipboard (no output)
# alias sel='xsel -op'  #  prints selection; ...|sel  # pipes input into selection
# alias 2sel='xsel -ip >/dev/null'  #  uptime|2cb  # uptime to selection (no output)
alias c=copyq
alias qn='copyq tab "&notes" add'       # add to copyq notes tab
alias qsn='copyq tab "&snippets" add'   # add to copyq snippets tab
alias cbdl='cb | dolines wget "$x"; done'   # download a list of file urls from clipboard


#--------------------
# BASH/SHELL ALIASES.
#--------------------
alias vi-bindings='set -o vi'
alias emacs-bindings='set -o emacs'
alias runfromhere='export PATH="./:$PATH"'
alias typa='type -a'
alias typp='type -p'


# ---------------
# PROCESS ALIASES
# ---------------
alias t=htop
alias psall='ps aux'
alias psgrep='ps aux | grep'
alias psname2pid='ps -o pid= -C'  # equivalent to pgrep
alias psbyname='ps -C'
alias psname2args='ps -o args= -C'
alias pspid2name='ps -o comm= -p'
alias psbypid='ps -p'
alias psbyparent='ps --ppid'
alias myprocs='ps uxf'
alias myprocsbymem='ps -u $USER -O pid,user,s,tty,%mem,comm,start,cputime --sort -%mem'
alias die='killall -vs9'
alias lsofu='lsof -a -u troy'         # list files for user troy
alias lsofp='lsof -a -p'              # list files for PID
alias wof='lsof -r 2'                 # watch files
alias wofu='lsof -r 2 -a -u troy'     # watch files for user troy
alias wofp='lsof -r 2 -a -p'          # watch files for PID
alias pk='pkill -9'
alias pidtoname='ps -o comm= -p'


#-----------------------
# COLOUR PICKER ALIASES.
#-----------------------
alias eyed=gpick
alias grabhexcol='grabc 2>/dev/null'
alias grabrgbcol='grabc 1>/dev/null'
alias pick='grabc 2>/dev/null | xsel -ib'
alias pickrgb='grabc 1>/dev/null | xsel -ib'

#-------------------
# CUT & PASTE FILES.
#-------------------
alias cf=xclip-copyfile
alias xf=xclip-cutfile
alias pf=xclip-pastefile

# --------------
# PAGER ALIASES.
# --------------
alias vip=vimpager
alias wvip='PAGER=vimpager'
alias vman='MANPAGER=vimpager man'
alias less='less -i'
# follow appended data (like tail -f) in less
alias fless='less +F'
alias vless=/usr/share/vim/vim74/macros/less.sh
alias vmore='vim -u $HOME/.vim/vimrc.more'
alias cless="LESSOPEN='|~/.lessfilter %s' less -R"
alias lesr='less -R'   # raw ANSI color escapes
alias lesrr='less -r'  # raw control chars

#-----------------
# ARCHIVE ALIASES.
#-----------------
alias untargz='tar xzvf'
alias untarbz2='tar xjvf'
alias untar='tar xaf'    # unarchive - multiple formats  # use unar instead
alias lstar='tar taf'    # list contents - multiple formats
alias 7zip='7z a -tzip'  # 7zip myarchive.zip myarchive/
# tgz [name [files]]    make .tgz out of files
# unar unarchive multiple formats

#------------------
# SETTINGS ALIASES.
#------------------
alias pralias='cat $BASH_ALIAS_FILE'
alias search-my-commands='cat -- $BASH_ALIAS_FILE $BASH_FUNCTION_FILE $SCRIPTS_DIRECTORY/* 2> /dev/null | grep'
alias gitalias="git config --get-regexp '^alias\.' | cut -c 7- | sed 's/ /\t/' | column -s'	' -t"
alias gitsetupignore="git config --global core.excludesfile '~/.gitignore'"
alias editalias='${EDITOR:-vim} $BASH_ALIAS_FILE; source $BASH_ALIAS_FILE'
alias xres='xrdb ~/.Xresources'
alias setopts='set -o | grep "on$"'
alias lspath='echo $PATH|tr ":" "\n"'
alias install-desktop-files='xdg-desktop-menu install --novendor'
alias install-desktop-files-strict='xdg-desktop-menu install'
alias install-local-desktop-files='for f in ~/.local/share/applications/*.desktop; do xdg-desktop-menu install --novendor $f; done'
alias xdmenu='xdg-desktop-menu  install --novendor'
alias xdmenustrict='xdg-desktop-menu install'
alias xdmenurefresh='for f in ~/.local/share/applications/*.desktop; do xdg-desktop-menu install --novendor $f; done'
alias mimetype='xdg-mime query filetype'
alias mimeapp='xdg-mime query default'
alias mimelist='cat /usr/share/mime/types'
alias mimegrep='cat /usr/share/mime/types | grep'
alias mimedefault='xdg-mime default'
alias update-fonts='fc-cache -vf ~/.fonts/'
alias choose-input-method='im-config -c'

# --------------------------
# SYSTEM / HARDWARE ALIASES.
# --------------------------
alias distro='cat /etc/lsb-release'
alias systeminfo='DISTRO=$(cat /etc/os-release|command grep PRETTY); DISTRO="${DISTRO#PRETTY_NAME=\"}"; printf "DISTRO: ${DISTRO%\"}\nARCH:   $(uname -i)\nKERNEL: $(uname -r)\nNODE:   $(uname -n)\n"'
alias xevkb="xev | grep -A2 --line-buffered '^KeyRelease' | sed -n '/keycode /s/^.*keycode \([0-9]*\).* (.*, \(.*\)).*$/\1 \2/p'"
alias preparesetleds='sudo chmod 666 /dev/console'
alias capslockon='sudo setleds -D +caps < /dev/console'  # turn off capslock if xset doesn't work. Requires chmod 666 /dev/console (otherwise su - must used rather than sudo)
alias capslockoff='capslockon; sudo setleds -D -caps < /dev/console' # see capslockon; sometimes you need to use capslockon first or the light won't clear.
alias hdd='df -hT'
alias partitionlist='fdisk -l'
alias lstab='cat /etc/mtab'  # list mounted partitions / filesystems in fstab format
alias etab='sudo $(echo ${EDITOR:-vim}) /etc/fstab' # customize auto-mounted partitions / filesystems in fstab file
alias retab='sudo mount -a'  # mount all partitions in fstab
alias uuids='ls -al /dev/disk/by-uuid/'  # list /dev partitions with UUIDs
alias uuid='ls -al /dev/disk/by-uuid/ | grep'  # list a /dev partition with its UUID
alias blkid='sudo blkid'     # list mounted partitions
alias ssmart='sudo smartctl'  # hard drive testing
alias evdev='sudo evdev' # show keyboard codes
alias showkey='sudo showkey' # query/monitor input devices (eg. key codes)
alias disable-wd-headparking='sudo idle3ctl -d'
alias hw-list='sudo lshw -short'    # list hardware in compact format
alias hw-listusb='lsusb'
alias hw-listpci='lspci'
alias hw-memusage='cat /proc/meminfo'
alias hw-cpuinfo='sudo dmidecode --type processor'
alias hw-coreinfo='cat /proc/cpuinfo'
alias hw-meminfo='sudo dmidecode --type memory'
alias hw-biosinfo='sudo dmidecode --type bios'
alias hw-connectorinfo='sudo dmidecode --type connector'
alias hw-memtotal='cat /proc/meminfo| grep MemTotal'
alias hw-memsummary='top -b -n1 | grep Mem'
alias mimetypes2mailcap='< /etc/mime.types cut -f1 | grep -E "^[^#]" | dolines echo "$x; xdg-open '%s'"; done'   # save to ~/.mailcap
alias mousecodes='xev | grep button'
alias volume='amixer set playback Master'
alias volup='amixer set Master playback 5%+'
alias voldown='amixer set Master playback 5%-'
alias volmax='amixer set Master playback 100%'
alias volmute='amixer -D pulse set Master playback mute'
alias volunmute='amixer -D pulse set Master playback unmute'
alias voltoggle='amixer -D pulse set Master playback toggle'
alias alsareload='sudo alsa --force-reload'    # may fix no sound issue
alias kvm-ready-check="file /sbin/init | egrep -o '[0-9]+-bit'; printf 'CPU KVM support (0 means no support): '; egrep -c '(vmx|svm)' /proc/cpuinfo; kvm-ok"
alias lsof-noroot='lsof -u^root'


# --------------------------------------
# SYNTAX HIGHLIGHTING & PRETTY PRINTING.
# --------------------------------------
alias colzl='pygmentize -f terminal256 -O style=native -l'  # syntax highlighting, eg. "cat file | colzl perl"
alias colorizelang='source-highlight -f esc -s'  # syntax highlighting, eg. "cat file | colorizelang perl"
alias colz='pygmentize -f terminal256 -O style=native -g'  # syntax highlighting (guess lang), eg. "cat file | colz"
# JS/JSON pretty printing:
alias ppjson='python -m json.tool'
alias ppjs='underscore print'   # js/json pretty printing (requires node module underscore-cli)
alias ppcjs='underscore print --outfmt pretty'  # js/json pretty printing & syntax highlighting
# also: prettyjson(pp/sh)

#-----------------------------
# EDITORS & PROGRAMMING TOOLS.
#-----------------------------
alias mzscheme='rlwrap /opt/racket/bin/mzscheme'
alias sml='rlwrap sml'
alias ocaml='rlwrap ocaml'
alias sbcl='rlwrap sbcl'
alias viminstall='cd ~/.vim/bundle; git clone'
alias pynote='ipython notebook --pylab=inline'
alias ipylab='ipython --pylab'
alias py='ipython --pylab'
alias bpy='bpython'
alias extract_elisp='find . -name "*.el.gz" | xargs sudo gunzip'
alias core-on='ulimit -c unlimited'
alias core-off='ulimit -c 0'
alias cljload='java -jar ~/.clojure/clojure.jar'
alias fregec='java -Xss1m -jar /opt/frege/fregec.jar -d build'
alias fregerepl='/opt/frege-repl/gradlew --no-daemon --console plain :frege-repl-core:run'
alias java-setdefault='sudo update-alternatives --config java'
alias pl=perl
alias ple='pl -e'       # execute perl code from next argument
alias pln='ple -n'      # execute within loop
alias plnl='ple -nl'    # execute within loop, strip/add newlines
alias plp='ple -p'      # execute within loop, with print
alias plpl='ple -pl'    # execute within loop, with print, strip/add newlines
alias Ple='ple -E'      # execute perl code (enable features)
alias Pln='Ple -n'      # execute within loop (enable features)
alias Plnl='Ple -nl'    # execute within loop, strip/add newlines (enable features)
alias Plp='Ple -p'      # execute within loop, with print (enable features)
alias Plpl='Ple -pl'    # execute within loop, with print, strip/add newlines (enable features)
alias Pl=Ple
alias perl-warnings-on="alias ple='perl -ew'; alias Ple='perl -wE'"
alias perl-warnings-off="alias ple='perl -e'; alias Ple='perl -E'"
alias perlEOF="perl -w <(cat <<'EOF'"    # multiline perl command: end with: EOF\n)
alias perlrepl='perl -de 0'
alias phprepl='php --interactive'
alias xracket='racket -il xrepl'
alias rkt='racket -e "(require readline)" -i'
# the code to install scribble-emacs (from scribble docs) seems to be broken
alias update-scribble-mode='racket -e "(require (planet neil/scribble-emacs:1:2/install-in-my-emacs))"'
alias cppdecl=c++decl
alias pcgrep='pkg-config --list-all | grep'
alias pkgc='pkg-config --libs'
alias cpkgc='cmake --find-package -DLANGUAGE=C -DCOMPILER_ID=GNU -DMODE=COMPILE'   # eg. cpkgc -DNAME=LibXml2
alias pyc="python2 -c 'from math import *; from operator import *; from itertools import *; from functools import *; print "
alias pipu='sudo -H pip install --upgrade'
alias nvm-copy-global='nodebindir=`which node`; nodedir=${nodebindir%/bin/node}; chmod -R 755 $nodedir/bin/*; sudo cp -r $nodedir/{bin,lib,share} /usr/local/'
alias iconi='/opt/icon/bin/icon /opt/icon/pl/progs/qei.icn'  # REPL for Icon programming language

# --------------
# EMACS ALIASES.
# --------------
alias enw='emacs -nw'
alias e="emacsclient -ta ''"
alias eq='emacs -Q -nw'
alias eqw='emacs -Q'
alias ec="emacsclient -cna ''"
alias emacs-spacemacs-toggle='if [[ -d ~/.emacs.d.spacemacs ]]; then mv -T ~/.emacs.d ~/.emacs.d.plain; mv -T ~/.emacs.d.spacemacs ~/.emacs.d; echo "Spacemacs active"; else mv -T ~/.emacs.d ~/.emacs.d.spacemacs; mv -T ~/.emacs.d.plain ~/.emacs.d; echo "Plain Emacs active"; fi;'
alias emint='pkill --signal SIGINT emacs'

# -----------
# PDF ALIASES
# -----------
alias pdfdiff=diffpdf
alias pdfgrep='pdfgrep -n'
alias pdfg='pdfgrep -n'
alias concatpdfs='gs -dBATCH -dNOPAUSE -q -sDEVICE=pdfwrite -sOutputFile=out.pdf' # joins pdfs (and bookmarks) in order
alias sej=sejda-console
alias pdfmergeall='sejda-console merge -f *.pdf -o out.pdf'
alias sejmerge='sejda-console merge' # eg. sejmerge -f file1.pdf file2.pdf -o newfile.pdf
# unlike pdfjoin, sejda-console merge preserves bookmarks
alias sejsplit='sejda-console splitbypages'
alias sejpptojpeg='sejda-console pdftojpeg'
alias sejpptotext='sejda-console extractpages'
alias sejtotext='sejda-console extracttext'
alias gs-pstopdf='gs -q -dBATCH -dAutoFilterColorImages=false -sColorImageFilter=FlateEncode -dNOPAUSE -sDEVICE=pdfwrite -sOutputFile=out.pdf'
alias jpdftweak='java -jar /opt/jpdftweak/jpdftweak.jar'  # can renumber pages in PDFs (loses bmarks)
alias pdfimg='pdfimages -j'
# OCR: use pdfocr for OCR; much better than pdfsandwich (default settings)

# -------------
# IMAGE ALIASES
# -------------
alias img-inplace-mod-bright-sat-hue='mogrify -modulate'    # requires imagemagick. In place.
alias img-tograyscale='convert -colorspace Gray'
alias img-tobw='convert -monochrome'
alias img-tochannels='convert -separate'
alias img-avg='convert -average'
alias display_with_srgb='display -profile /usr/share/ghostscript/9.*/iccprofiles/srgb.icc'
alias img-info=identify

# -------------------
# FILE FORMAT ALIASES
# -------------------
alias rtf2txt='unrtf --text'

# ------------------
# PIPELINE OPERATORS
# ------------------
# alias maplines='xargs -d "\n" -n 1'
alias maplines='xargs -L1'
# eg.     ls|dolines printf "`pwd`/$x\n"; done
alias dolines='while read -r x; do'
# uniqdirs: print a list of target directories (ie. resolve symlinks) of files
alias uniqdirs='while read -r line; do dirname "`readlink -f "$line"`"; done | sort | uniq'
# eg.              ls -l | dofields echo $x9; done
# equivalent to:   ls -l | awk '{ print $9 }'
alias dofields='while read -r x1 x2 x3 x4 x5 x6 x7 x8 x9; do'
# while read -r x; do echo "stmts using $x"; done
alias imaplines='xargs -d "\n" -n 1 -p'
alias filterexec='dolines if [[ -x "$x" ]]; then echo "$x"; fi; done'
alias locatedirs='cat|xargs locate|uniqdirs'
alias pipechoose='iselect -ma | xargs'
alias catchoose='iselect -ma | xargs cat'
alias dedup='perl -ne '"'"'$H{$_}++ or print'"'"   # remove repeated lines (need not be adjacent)
alias suniq='sort -u'   # sort and remove repeated lines
alias tolowercase="tr '[:upper:]' '[:lower:]'"
alias touppercase="tr '[:lower:]' '[:upper:]'"
alias tohilitcase="perl -MText::Autoformat -e'undef $/; print autoformat +<>, { case => \"highlight\" }'"
alias totitlecase="perl -MText::Autoformat -e'undef $/; print autoformat +<>, { case => \"title\" }'"
alias first='head -n1'
alias last='tail -n1'   # system command last is available as alias lastu
alias rest='tail -n+2'
alias xaa='xargs bash -ic'
alias choosexa='choose | xargs'
alias xacat='xargs cat'
alias xaless='xargs less'
alias xavip='xargs vimpage'
alias xavi='xargs vipipe'
alias xakill='xargs kill'
alias recol='pr -t --columns'  # recolumnate single-column data
alias fromjis='iconv -f SHIFT-JIS -t UTF-8'
alias tojis='iconv -f UTF-8 -t SHIFT-JIS'
alias translit='iconv -f utf-8 -t ascii//translit'  # transliterate western characters

# -----------
# FORMATTING.
# -----------
alias onespace="tr '\t' ' ' | tr -s ' '"  # collapse whitespace (tabs/spaces) into a single space (good with cut)
alias tolines='tr " \t" "\n\n"'
alias joinlines='tr "\n" " "'
alias firstcol="cut -d' ' -f1"
alias splitpath='tr ":" "\n"'
alias deduppath="awk -F: '{for (i=1;i<=NF;i++) { if ( !x[\$i]++ ) printf(\"%s:\",\$i); }}'"
alias tabs2cols="column -t -s $'\t'"
alias cutsp="onespace | cut -d' '"
# eg.:    ls -Al | cuts -f2,9    # list filenames and number of hard links
alias evenlines="awk 'NR%2==0'"  # print even lines (starting at line 0)
alias oddlines="awk 'NR%2==1'"
alias concat='tr -d "\n"'        # join lines into string
alias tabify-table="perl -ple 's/\s+/\t/g'"    # whitespace-delim table -> tab-delim
alias number-lines='perl -wnle '\''print "$.\t$_"'\'    # add numbers to left of lines

# ------------
# rs variants:
# ------------
# row2col: eg.    echo 1 2 3 | row2col
# equivalent to row2col='xargs printf "%d\n"'
alias row2col='rs 0 1'
alias r2c='rs 0 1'
alias col2row='rs 1 0'
alias c2r='rs 1 0'
# transpose: eg.    printf "1 2 3\n4 5 6\n" | transpose
alias transpose='rs -T'
alias align='column -t'   # align columns

# -------
# RANDOM.
# -------
alias ranalnum='tr -dc "[:lower:]0-9" < /dev/urandom | head -c'
alias ranAlnum='tr -dc "[:alpha:]0-9" < /dev/urandom | head -c'
alias ranalpha='tr -dc "[:lower:]" < /dev/urandom | head -c'
alias ranAlpha='tr -dc "[:alpha:]" < /dev/urandom | head -c'
alias rannum='tr -dc "0-9" < /dev/urandom | head -c'

#---------------------
# APPLICATION ALIASES.
#---------------------
alias e=leafpad
alias vi=nvi
alias coline='command col'    # leave col free as a column selection command
alias factorlang=/opt/factor/factor
alias unmount=umount
alias jcons=$JHOME/bin/jconsole
alias trash-restore=restore-trash
alias ack=ack-grep
alias noi=noice
alias lastu=last    # leave last free for alias
alias PeaExtractor=/opt/peazip/res/pealauncher
alias PeaUtils=/opt/peazip/res/pea
alias xa=xargs
alias gd=grepdict   # see .sh-functions:q
alias ucs=/opt/scripts/unicodesearch    # github.com/jpverkamp/dotfiles/blob/master/bin/uni

#---------------------------------
# APPLICATION DEFAULTS & VARIANTS.
#---------------------------------
alias greps='grep -Hn --color=always'
alias roxterm-display='roxterm --hide-menubar -T "Roxterm Display" -z 1.3 --geometry=70x40'
alias nautilus='nautilus --no-desktop'
alias mc='mc -S gotar'
alias bc='bc -l'
alias echoe='echo -e'
alias esed='sed -r'
alias sulocate='sudo locate'
alias untgz='tar -zxvf'
alias dfh='df -h'
#alias info='pinfo'
alias edx-dl='edx-dl -s'
alias info='info --vi-keys'
alias octave='octave --quiet'
alias qiv='qiv -e'
# alias handyoutliner='opt/handyoutliner/start-linux'
alias handyoutliner='mono /opt/handyoutliner/HandyOutliner.exe'
alias clock='cairo-clock -deops -x 1695 -y 104 -w 200 -h 200 -r 1 -t radium'
alias gremclock='cairo-clock -deops -x 1695 -y 104 -w 200 -h 200 -r 1 -t gremlin'
alias pman='pinfo -m'
# repeat character, eg.    rep '*' 20
alias rep="jot -s '' -b"
alias iselect='iselect -kj:KEY_DOWN -kk:KEY_UP'
alias choose='iselect -ma'
alias say='spd-say -r -40 -t male2'
alias gemu='gem update --system'
alias pandoc-md='pandoc -f markdown -t html5 --toc'  # pandoc-md infile.md > outfile.html
alias feh-im='feh --magick-timeout 0'  # give image-magick enough time to convert files
alias zmessage='zenity --info --text'  # pop-up message box (like xmessage)
alias videodl-worst='videodl worst'
alias videodl-low='videodl low'
alias videodl-mid='videodl mid'
alias videodl-high='videodl high'
alias videodl-best='videodl best'
alias ibus-start='ibus-daemon -drx'
alias sort-natural='sort -bdV'
alias sort-icase-natural='sort -bdfV'
alias diskusage='gdmap -f'
alias ibusd='IBUS_ENABLE_SYNC_MODE=1 ibus-daemon -drx'
alias thumbsdb='vinetto -o ./.thumbnails ./?humbs.db'
alias kanjitomo='java -Xmx1000m -jar /opt/KanjiTomo/KanjiTomo.jar -run'


# --------------
# OTHER ALIASES.
# --------------
alias lscompose='cat /usr/share/X11/locale/en_US.UTF-8/Compose'  # compose key combinations


# -------
# NOVELTY
# -------
alias starwars='telnet towel.blinkenlights.nl'
# http://www.reddit.com/r/commandline/comments/2ofb4e/star_trek_holodeck_noise_for_12_hours_with/
alias startrek='play -n -c2 synth whitenoise lowpass -1 69 lowpass -1 50 lowpass -1 120 gain +15'


# *********************
# *                   *
# * COMMAND REMINDERS *
# *                   *
# *********************
# These entries are to facilitate grepping the alias file for a forgotten command

# lsof, fuser : list processes accessing a file or socket, open files for process, etc
# gcp: cp with additional functionality, incl. progress, munging to handle FAT restrictions,...
